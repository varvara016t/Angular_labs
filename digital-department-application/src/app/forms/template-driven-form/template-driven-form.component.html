<div class="form-container">
    <form #bookForm="ngForm" (ngSubmit)="onSubmit(bookForm)" class="book-form">
      <div class="form-group">
        <label for="td-title">Название книги</label>
        <input 
          type="text" 
          id="td-title" 
          name="title"
          [(ngModel)]="book.title"
          #title="ngModel"
          required
          minlength="2"
          maxlength="100"
          class="form-control"
          [ngClass]="{'is-invalid': (submitted || title.touched) && title.errors}">
        <div *ngIf="(submitted || title.touched) && title.errors" class="error-feedback">
          <div *ngIf="title.errors?.['required']">Название книги обязательно</div>
          <div *ngIf="title.errors?.['minlength']">Название должно содержать минимум 2 символа</div>
          <div *ngIf="title.errors?.['maxlength']">Название не должно превышать 100 символов</div>
        </div>
      </div>
  
      <div class="form-group">
        <label for="td-author">Автор</label>
        <input 
          type="text" 
          id="td-author" 
          name="author"
          [(ngModel)]="book.author"
          #author="ngModel"
          required
          minlength="2"
          maxlength="50"
          class="form-control"
          [ngClass]="{'is-invalid': (submitted || author.touched) && author.errors}">
        <div *ngIf="(submitted || author.touched) && author.errors" class="error-feedback">
          <div *ngIf="author.errors?.['required']">Автор обязателен</div>
          <div *ngIf="author.errors?.['minlength']">Имя автора должно содержать минимум 2 символа</div>
          <div *ngIf="author.errors?.['maxlength']">Имя автора не должно превышать 50 символов</div>
        </div>
      </div>
  
      <div class="form-group">
        <label for="td-year">Год издания</label>
        <input 
          type="number" 
          id="td-year" 
          name="year"
          [(ngModel)]="book.year"
          #year="ngModel"
          required
          [min]="1800"
          [max]="2025"
          class="form-control"
          [ngClass]="{'is-invalid': (submitted || year.touched) && year.errors}">
        <div *ngIf="(submitted || year.touched) && year.errors" class="error-feedback">
          <div *ngIf="year.errors?.['required']">Год издания обязателен</div>
          <div *ngIf="year.errors?.['min']">Год не может быть меньше 1800</div>
          <div *ngIf="year.errors?.['max']">Год не может быть больше текущего</div>
        </div>
      </div>
  
      <div class="form-group">
        <label for="td-genre">Жанр</label>
        <select 
          id="td-genre" 
          name="genre"
          [(ngModel)]="book.genre"
          #genre="ngModel"
          required
          class="form-control"
          [ngClass]="{'is-invalid': (submitted || genre.touched) && genre.errors}">
          <option value="">Выберите жанр</option>
          <option *ngFor="let option of genreOptions" [value]="option">
            {{ option }}
          </option>
        </select>
        <div *ngIf="(submitted || genre.touched) && genre.errors" class="error-feedback">
          <div *ngIf="genre.errors?.['required']">Выберите жанр книги</div>
        </div>
      </div>
  
      <div class="form-group">
        <label for="td-rating">Рейтинг (1-10)</label>
        <input 
          type="number" 
          id="td-rating" 
          name="rating"
          [(ngModel)]="book.rating"
          #rating="ngModel"
          required
          min="1"
          max="10"
          class="form-control"
          [ngClass]="{'is-invalid': (submitted || rating.touched) && rating.errors}">
        <div *ngIf="(submitted || rating.touched) && rating.errors" class="error-feedback">
          <div *ngIf="rating.errors?.['required']">Рейтинг обязателен</div>
          <div *ngIf="rating.errors?.['min']">Рейтинг не может быть меньше 1</div>
          <div *ngIf="rating.errors?.['max']">Рейтинг не может быть больше 10</div>
        </div>
      </div>
  
      <div class="form-actions">
        <button type="submit" class="btn-submit">Сохранить</button>
        <button type="button" (click)="bookForm.resetForm()" class="btn-reset">Сбросить</button>
      </div>
    </form>
  </div>